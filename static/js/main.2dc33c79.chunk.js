(this["webpackJsonppathfinding-visualizer"]=this["webpackJsonppathfinding-visualizer"]||[]).push([[0],{13:function(e,t,n){e.exports=n(19)},19:function(e,t,n){"use strict";n.r(t);var i,a,r,o=n(0),s=n.n(o),d=n(9),c=n.n(d),u=n(4),l=n.n(u),v=n(6),g=n(1),f=n(2),h=n(12),m=n(10),p=n(3),N=n.n(p),b=function(e){var t=function(t){var n="node-".concat(t.row,"-").concat(t.column);return s.a.createElement("div",{id:n,key:n,draggable:t.isStart||t.isDestination,className:N()("node",{start:t.isStart},{destination:t.isDestination},{brick:t.isBrick}),onMouseEnter:e.onNodeMouseEnter,onDragStart:e.onNodeDragStart,onDragEnd:e.onNodeDropEnd,onDragOver:function(e){e.preventDefault()}})},n=function(e,t){return s.a.createElement("div",{id:e,key:e,className:"row"},[t])};return s.a.createElement("div",{id:e.id,className:N()("node-container",{"block-mouse-events":e.isPathFindingInProgress}),onMouseDown:e.onGridContainerMouseDown,onMouseUp:e.onGridContainerMouseUp},function(e){for(var i=[],a=0;a<e.length;a++){for(var r=e[a],o=[],s=0;s<r.length;s++)o.push(t(r[s]));var d="row-".concat(a),c=n(d,o);i.push(c)}return i}(e.nodes))};!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.Destination=2]="Destination",e[e.Path=3]="Path",e[e.UnVisited=4]="UnVisited",e[e.Visited=5]="Visited",e[e.Brick=6]="Brick"}(i||(i={})),function(e){e[e.Dijkstra=1]="Dijkstra"}(a||(a={})),function(e){e[e.None=0]="None",e[e.RandomBricks=1]="RandomBricks",e[e.DiagonalLines=2]="DiagonalLines",e[e.RecursiveDivision=3]="RecursiveDivision"}(r||(r={}));var k={animationSpeed:{min:1,max:10,default:5}},S=function(e){return s.a.createElement("li",{id:e.id,className:"nav-item dropdown active"},s.a.createElement("a",{className:N()("nav-link dropdown-toggle",e.classname,{disabled:e.disabled}),href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},function(){var t=e.options.filter((function(e){return e.isSelected}));return t?t[0].value:null}()),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},e.options.map((function(t){var n="".concat(e.id,"-item-").concat(t.id);return s.a.createElement("a",{key:n,id:n,className:"dropdown-item",href:"#",onClick:function(){e.onOptionSelected(t)}},t.value)}))))},D=n(5),y=function(){function e(){Object(g.a)(this,e)}return Object(f.a)(e,null,[{key:"getTerrainName",value:function(e){var t="";switch(e){case r.None:t="Blank terrain";break;case r.RandomBricks:t="Random bricks";break;case r.DiagonalLines:t="Diagonal lines";break;case r.RecursiveDivision:t="Recursive division"}return t}},{key:"removeAllBrickNode",value:function(e){var t,n=Object(D.a)(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,r=Object(D.a)(a);try{for(r.s();!(i=r.n()).done;){i.value.isBrick=!1}}catch(o){r.e(o)}finally{r.f()}}}catch(o){n.e(o)}finally{n.f()}}}]),e}();y.getTerrainOption=function(e){var t=[],n={id:r.None,value:y.getTerrainName(r.None),isSelected:!1},i={id:r.RecursiveDivision,value:y.getTerrainName(r.RecursiveDivision),isSelected:!1},a={id:r.RandomBricks,value:y.getTerrainName(r.RandomBricks),isSelected:!1},o={id:r.DiagonalLines,value:y.getTerrainName(r.DiagonalLines),isSelected:!1};t.push(n),t.push(i),t.push(a),t.push(o);for(var s=0,d=t;s<d.length;s++){var c=d[s];c.isSelected=c.id===e}return t};var O=y,w={start:"start",destination:"destination",node:"node",path:"path",brick:"brick",visited:"visited"},E=function(){function e(){Object(g.a)(this,e)}return Object(f.a)(e,null,[{key:"getRamdonNumber",value:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}},{key:"generateRandomArray",value:function(t,n,i){return Array.from({length:t},(function(){return e.getRamdonNumber(n,i)}))}}]),e}();E.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))};var P=E,T=function(){function e(){Object(g.a)(this,e)}return Object(f.a)(e,null,[{key:"isDestinationNode",value:function(e){return e.classList.contains(w.destination)}},{key:"isStartNode",value:function(e){return e.classList.contains(w.start)}},{key:"isNode",value:function(e){return e.classList.contains(w.node)}},{key:"toggleBrick",value:function(t,n){if(t&&e.isNode(t)&&!e.isStartNode(t)&&!e.isDestinationNode(t)){var i=e.getNodePositionFromElemet(t),a=n[i[0]][i[1]];a.isBrick=!a.isBrick}}},{key:"getNodeType",value:function(e){var t=i.None;if(e){var n=e.classList;n.contains(w.start)?t=i.Start:n.contains(w.destination)&&(t=i.Destination)}return t}},{key:"getNodeClass",value:function(e){var t="";switch(e){case i.Start:t=w.start;break;case i.Destination:t=w.destination}return t}},{key:"getNodePositionFromElemet",value:function(e){if(e){var t=e.id.split("-");return[parseInt(t[1]),parseInt(t[2])]}return[]}},{key:"getNodeFromDOM",value:function(e,t){return document.getElementById("node-".concat(e,"-").concat(t))}},{key:"getAlgorithmOptions",value:function(t){var n=[],i={id:a.Dijkstra,value:e.getAlgorithmName(a.Dijkstra),isSelected:!1};n.push(i);for(var r=0,o=n;r<o.length;r++){var s=o[r];s.isSelected=s.id===t}return n}},{key:"getAlgorithmName",value:function(e){var t="";switch(e){case a.Dijkstra:t="Dijkstra's"}return t}}]),e}();T.getAnimationSpeed=function(e){return[10,9,8,7,6,5,4,3,2,1][e-1]},T.getDefaultNodePosition=function(){return[[P.getRamdonNumber(1,19),P.getRamdonNumber(1,11)],[P.getRamdonNumber(1,19),P.getRamdonNumber(40,49)]]},T.createNode=function(e,t,n){var i=n[0][0],a=n[0][1],r=n[1][0],o=n[1][1];return{row:e,column:t,distance:1/0,previousNode:void 0,isVisited:!1,isBrick:!1,isStart:e===i&&t===a,isDestination:e===r&&t===o}},T.initNodes=function(e,t,n){for(var i=[],a=0;a<e;a++){for(var r=[],o=0;o<t;o++){var s=T.createNode(a,o,n);r.push(s)}i.push(r)}return i};var j,A=T,R=function(e){var t=1,n=10,i=5;return s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},s.a.createElement("span",{className:"navbar-brand title"},"Shortest path algorithm"),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},s.a.createElement("ul",{className:"navbar-nav mr-auto"},s.a.createElement(S,{id:"algorithm-dropdown",disabled:e.isPathFindingInProgress,onOptionSelected:e.onAlgorithmSelected,options:A.getAlgorithmOptions(e.selectedAlgorithm)}),s.a.createElement(S,{id:"terrain-dropdown",classname:"terrain-selected-item",disabled:e.isPathFindingInProgress,onOptionSelected:e.onTerrainOptionSelected,options:O.getTerrainOption(e.selectedTerrain)}),s.a.createElement("li",{className:"nav-item"},"\xa0\xa0\xa0\xa0",s.a.createElement("button",{className:"btn btn-success",onClick:e.onVisualizeClick,disabled:e.isPathFindingInProgress},"Visualize")),s.a.createElement("li",{className:"nav-item dropdown"},"\xa0\xa0\xa0\xa0",s.a.createElement("button",{className:"btn btn-warning",onClick:e.onResetStage,disabled:e.isPathFindingInProgress},"Reset board")),s.a.createElement("li",{className:"range"},s.a.createElement("p",null,"Visualizing speed"),s.a.createElement("input",{type:"range",min:t,max:n,defaultValue:i,onChange:e.onSpeedChange})))))},C=function(){var e=function(e,t,n){return s.a.createElement("div",{id:e,className:"descriptor"},s.a.createElement("div",{className:n}),"\xa0",s.a.createElement("span",null,t))},t=w;return s.a.createElement("div",{className:"grid-descriptor"},e("startNode","Start Node",N()(t.node,t.start)),e("destinationNode","Destination Node",N()(t.node,t.destination)),e("pathNode","Path Node",N()(t.node,t.path)),e("unvisitedNode","Unvisited Node",N()(t.node)),e("visitedNode","Visited Node",N()(t.node,t.visited)),e("brickNode","Brick Node",N()(t.node,t.brick)))},B=function(){function e(t){Object(g.a)(this,e),this.nodes=[],this.nodes=t}return Object(f.a)(e,[{key:"getTerrain",value:function(){var e,t=[],n=Object(D.a)(this.nodes);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push(P.generateRandomArray(10,0,i.length-1))}}catch(a){n.e(a)}finally{n.f()}return t}}]),e}(),x=function(){function e(t){Object(g.a)(this,e),this.nodes=[],this.nodes=t}return Object(f.a)(e,[{key:"toggleDirection",value:function(e){return 1-e}},{key:"divide",value:function(e,t,n,i,a,r){if(!(a-i<=3||n-t<=3)){var o=this.toggleDirection(r);if(r===j.Vertical){for(var s=P.getRamdonNumber(i+1,a-1),d=t;d<n;d++){var c=e[d];d!==t+1&&(c.length>0?c[c.length]=s:c.push(s))}this.divide(e,t,n,i,s-1,o),this.divide(e,t,n,s+1,a,o)}else{for(var u=P.getRamdonNumber(t+1,n-1),l=e[u],v=i;v<=a;v++)v!==i+1&&(l.length>0?l[l.length]=v:l.push(v));this.divide(e,t,u-1,i,a,o),this.divide(e,u+1,n,i,a,o)}}}},{key:"getTerrain",value:function(){var e=[],t=this.nodes.length-1,n=this.nodes[0].length-1;return this.nodes.forEach((function(){e.push([])})),this.divide(e,0,t,0,n,j.Vertical),e}}]),e}();!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(j||(j={}));var M=x,F=function(){function e(t){Object(g.a)(this,e),this.nodes=[],this.nodes=t}return Object(f.a)(e,[{key:"getTerrain",value:function(){for(var e=[],t=0;t<18;t++)t>1?e.push([1+t,1+t,1+t+10,1+t+10,1+t+20,1+t+20,1+t+30,1+t+30]):e.push([]);return e}}]),e}(),V=function(){function e(t){Object(g.a)(this,e),this.nodes=[],this.nodes=t}return Object(f.a)(e,[{key:"setTerrain",value:function(e){var t;try{switch(e){case r.RandomBricks:t=new B(this.nodes);break;case r.DiagonalLines:t=new F(this.nodes);break;case r.RecursiveDivision:t=new M(this.nodes);break;default:throw new Error("Terrain not found :|")}var n=t.getTerrain();this.mapTerrainToNodes(this.nodes,n)}catch(i){console.error(i)}}},{key:"mapTerrainToNodes",value:function(e,t){for(var n=0;n<e.length;n++)for(var i=e[n],a=t[n],r=0;r<a.length;r++){var o=i[a[r]];o.isStart||o.isDestination||(i[a[r]].isBrick=!0)}}}]),e}(),I=n(11),L=function(){function e(t){var n=this;Object(g.a)(this,e),this.nodes=void 0,this.find=function(e,t){var i=[],a=[];for(e.distance=0,a=n.flatten2DNodeArray(n.nodes);a.length;){n.sortNodeByDistance(a);var r=a.shift();if(r){if(r.isBrick)continue;if(r.distance===1/0)break;if(r.isVisited=!0,i.push(r),r===t)break;n.updateDistanceOfUnvisitedNeighbors(r,n.nodes)}}for(var o=[],s=t;s;)o.unshift(s),s=s.previousNode;return[i,o]},this.nodes=t}return Object(f.a)(e,[{key:"updateDistanceOfUnvisitedNeighbors",value:function(e,t){var n,i=this.getUnvisitedNeighbors(e,t),a=Object(D.a)(i);try{for(a.s();!(n=a.n()).done;){var r=n.value;r.distance=e.distance+1,r.previousNode=e}}catch(o){a.e(o)}finally{a.f()}}},{key:"getUnvisitedNeighbors",value:function(e,t){var n=[],i=e.row,a=e.column;return i>0&&n.push(t[i-1][a]),i<t.length-1&&n.push(t[i+1][a]),a>0&&n.push(t[i][a-1]),a<t[0].length-1&&n.push(t[i][a+1]),n.filter((function(e){return!e.isVisited}))}},{key:"sortNodeByDistance",value:function(e){e.sort((function(e,t){return e.distance-t.distance}))}},{key:"flatten2DNodeArray",value:function(e){var t,n=[],i=Object(D.a)(e);try{for(i.s();!(t=i.n()).done;){var a,r=t.value,o=Object(D.a)(r);try{for(o.s();!(a=o.n()).done;){var s=a.value;n.push(s)}}catch(d){o.e(d)}finally{o.f()}}}catch(d){i.e(d)}finally{i.f()}return n}}]),e}(),U=function(){function e(t,n){var i=this;Object(g.a)(this,e),this.nodes=void 0,this.options=void 0,this.find=function(){var e=Object(v.a)(l.a.mark((function e(t,n,r){var o,s,d,c,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next=e.t0===a.Dijkstra?3:5;break;case 3:return o=new L(i.nodes),e.abrupt("break",5);case 5:return s=o.find(t,n),d=Object(I.a)(s,2),c=d[0],u=d[1],e.next=8,i.animate(c,u);case 8:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),this.animate=function(){var e=Object(v.a)(l.a.mark((function e(t,n){var a,r,o,s,d,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<t.length)){e.next=22;break}if(a!==t.length-1){e.next=15;break}r=0;case 4:if(!(r<n.length)){e.next=15;break}if(o=n[r],i.isStartOrDestination(o)){e.next=12;break}return null===(s=A.getNodeFromDOM(o.row,o.column))||void 0===s||s.classList.remove("visited"),null===s||void 0===s||s.classList.add("path"),e.next=12,P.sleep(i.options.getAnimationSpeed());case 12:r++,e.next=4;break;case 15:return d=t[a],i.isStartOrDestination(d)||null===(c=A.getNodeFromDOM(d.row,d.column))||void 0===c||c.classList.add("visited"),e.next=19,P.sleep(i.options.getAnimationSpeed());case 19:a++,e.next=1;break;case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.nodes=t,this.options=n}return Object(f.a)(e,[{key:"isStartOrDestination",value:function(e){return e.isStart||e.isDestination}}]),e}(),z=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e,o){var s;return Object(g.a)(this,n),(s=t.call(this,e,o)).numberOfRows=20,s.numberOfColumns=50,s.draggedNodeType=i.None,s.nodes=[],s.selectedAlgorithm=a.Dijkstra,s.nodePositions=[],s.selectedTerrain=r.None,s.isPanStarted=!1,s.isPathFindingInProgress=!1,s.animationSpeed=k.animationSpeed.default,s.setAnimationSpeed=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;s.animationSpeed=A.getAnimationSpeed(0===e?k.animationSpeed.default:e)},s.getAnimationSpeed=function(){return s.animationSpeed},s.onSpeedChange=function(e){var t=e.target,n=parseInt(t.value);s.setAnimationSpeed(n)},s.onGridContainerMouseUp=function(e){s.isPanStarted=!1},s.onGridContainerMouseDown=function(e){var t=e.target;s.isPanStarted=!0,A.toggleBrick(t,s.nodes),s.setState({renderedOn:Date.now()})},s.onNodeMouseEnter=function(e){if(s.isPanStarted){var t=e.target;A.toggleBrick(t,s.nodes),s.setState({renderedOn:Date.now()})}},s.onAlgorithmOptionSelected=function(e){s.selectedAlgorithm!==e.id&&(s.selectedAlgorithm=e.id,s.setState({renderedOn:Date.now()}))},s.onTerrainOptionSelected=function(e){if(s.selectedTerrain!==e.id){if(s.selectedTerrain=e.id,O.removeAllBrickNode(s.nodes),s.selectedTerrain!==r.None)new V(s.nodes).setTerrain(s.selectedTerrain);s.setState({renderedOn:Date.now()})}},s.onResetStage=function(){var e=Object(v.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.resetStage();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.onVisualizeClick=function(){var e=Object(v.a)(l.a.mark((function e(t){var n,i,a,r,o,d,c,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.isPathFindingInProgress=!0,s.setState({renderedOn:Date.now()}),n=s.nodePositions[0][0],i=s.nodePositions[0][1],a=s.nodePositions[1][0],r=s.nodePositions[1][1],(o=s.nodes[n][i]).isStart=!0,(d=s.nodes[a][r]).isDestination=!0,c={getAnimationSpeed:s.getAnimationSpeed},u=new U(s.nodes,c),e.next=14,u.find(o,d,s.selectedAlgorithm);case 14:s.isPathFindingInProgress=!1,s.setState({renderedOn:Date.now()});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.onNodeDragStart=function(e){var t=e.target;if(A.isNode(t)&&(A.isStartNode(t)||A.isDestinationNode(t))){var n=A.getNodeType(t);s.draggedNodeType=n;var i=A.getNodeClass(n);t.classList.remove(i),t.setAttribute("draggable","false")}},s.onNodeDropEnd=function(e){var t=e.target,n=e.clientX,a=e.clientY,r=document.elementFromPoint(n,a),o=A.getNodeClass(s.draggedNodeType);if(""!==o){r&&A.isNode(r)&&!A.isStartNode(r)&&!A.isDestinationNode(r)&&(t=r),t.classList.add(o),t.setAttribute("draggable","true");var d=A.getNodePositionFromElemet(t);d&&(s.draggedNodeType===i.Start?s.nodePositions[0]=d:s.draggedNodeType===i.Destination&&(s.nodePositions[1]=d))}s.draggedNodeType=i.None,s.isPanStarted=!1},s.resetStage=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s.selectedTerrain=r.None,s.nodePositions=A.getDefaultNodePosition(),s.nodes=A.initNodes(s.numberOfRows,s.numberOfColumns,s.nodePositions),e&&s.setState({renderNodes:!1},(function(){setTimeout((function(){s.setState({renderNodes:!0})}),0)}))},s.state={renderedOn:0,renderNodes:!0},s.resetStage(!1),s}return Object(f.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"stage"},s.a.createElement(R,{onSpeedChange:this.onSpeedChange,onResetStage:this.onResetStage,onVisualizeClick:this.onVisualizeClick,onTerrainOptionSelected:this.onTerrainOptionSelected,selectedTerrain:this.selectedTerrain,onAlgorithmSelected:this.onAlgorithmOptionSelected,selectedAlgorithm:this.selectedAlgorithm,isPathFindingInProgress:this.isPathFindingInProgress}),s.a.createElement(C,null),this.state.renderNodes?s.a.createElement(b,{id:"grid",nodes:this.nodes,onNodeDropEnd:this.onNodeDropEnd,onNodeDragStart:this.onNodeDragStart,onNodeMouseEnter:this.onNodeMouseEnter,onGridContainerMouseUp:this.onGridContainerMouseUp,onGridContainerMouseDown:this.onGridContainerMouseDown,isPathFindingInProgress:this.isPathFindingInProgress}):null)}}]),n}(s.a.Component);var G=function(){return s.a.createElement(z,null)};c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(G,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.2dc33c79.chunk.js.map